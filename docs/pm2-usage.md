# تشغيل المشروع في الخلفية باستخدام pm2

1. تثبيت pm2 (مرة واحدة فقط):
   ```bash
   npm install -g pm2
   ```

2. تشغيل التطبيق على المنفذ 3001:
   ```bash
   pm2 start npm --name "boraq-c-library" -- start -- -p 3001
   ```
   > إذا كان التطبيق يقرأ المنفذ من متغير البيئة، يمكنك استخدام:
   > ```bash
   > pm2 start npm --name "boraq-c-library" -- start -- --port 3001
   > # أو
   > pm2 start npm --name "boraq-c-library" -- start -- -- -p 3001
   > ```
   > أو يمكنك ضبط متغير البيئة:
   > ```bash
   > pm2 start npm --name "boraq-c-library" -- start --env PORT=3001
   > ```

3. حفظ العمليات:
   ```bash
   pm2 save
   ```

4. (اختياري) لجعل التطبيق يعمل تلقائيًا بعد إعادة التشغيل:
   - تحتاج لصلاحيات sudo. إذا كان لديك صلاحية root نفذ:
     ```bash
     pm2 startup
     # ثم نفذ الأمر الذي يظهر لك
     ```

5. لمتابعة حالة التطبيق:
   ```bash
   pm2 status
   ```

6. لإيقاف التطبيق:
   ```bash
   pm2 stop boraq-c-library
   ```

7. لإعادة تشغيل التطبيق:
   ```bash
   pm2 restart boraq-c-library
   ```

---

> **ملاحظة:**
> التطبيق يعمل على المنفذ 3001 (port 3001). إذا أردت تغييره، تأكد من ضبط إعدادات التطبيق و/أو متغيرات البيئة.

---

> **ملاحظة:**
> إذا لم يكن لديك صلاحية sudo، سيعمل التطبيق في الخلفية لكن لن يعمل تلقائيًا بعد إعادة تشغيل السيرفر إلا إذا فعّلت الصلاحية مع مدير السيرفر.
